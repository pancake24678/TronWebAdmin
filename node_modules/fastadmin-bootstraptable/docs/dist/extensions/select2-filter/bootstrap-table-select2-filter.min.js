/*
* bootstrap-table - v1.11.12 - 2024-03-28
https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2017 zhixin wen
* Licensed MIT License
*/
!function(s){"use strict";function e(t){var e=t.$header;return e=t.options.height?t.$tableHeader:e}function r(a){var t=e(a).find("[data-filter-field]");s.isEmptyObject(a.filterColumnsPartial)||t.each(function(t,e){var e=s(e),i=e.attr("data-filter-field"),i=a.filterColumnsPartial[i];e.is("select")?e.val(i).trigger("change"):e.val(i)})}function t(i,a){var l,r,t,e,n=!1,o=0;s.each(i.columns,function(t,i){if(l="hidden",r=[],i.visible){if(i.filter){var e=i.filter.class?" "+i.filter.class:"";switch(r.push('<div style="margin: 0px 2px 2px 2px;" class="filter'+e+'">'),i.searchable&&(n=!0,l="visible"),i.filter.type.toLowerCase()){case"input":r.push('<input type="text" data-filter-field="'+i.field+'" style="width: 100%; visibility:'+l+'">');break;case"select":r.push('<select data-filter-field="'+i.field+'" style="width: 100%; visibility:'+l+'"></select>')}}else r.push('<div class="no-filter"></div>');s.each(a.children().children(),function(t,e){if((e=s(e)).data("field")===i.field)return e.find(".fht-cell").append(r.join("")),!1})}}),n?(t=a.find("input"),e=a.find("select"),0<t.length&&(t.off("keyup").on("keyup",function(t){clearTimeout(o),o=setTimeout(function(){i.onColumnSearch(t)},i.options.searchTimeOut)}),t.off("mouseup").on("mouseup",function(t){var e=s(this);""!==e.val()&&setTimeout(function(){""===e.val()&&(clearTimeout(o),o=setTimeout(function(){i.onColumnSearch(t)},i.options.searchTimeOut))},1)})),0<e.length&&e.on("select2:select",function(t){i.onColumnSearch(t)})):a.find(".filter").hide()}s.extend(s.fn.bootstrapTable.defaults,{filter:!1,filterValues:{}}),s.extend(s.fn.bootstrapTable.COLUMN_DEFAULTS,{filter:void 0});var i=s.fn.bootstrapTable.Constructor,a=i.prototype.init,l=i.prototype.initHeader,f=i.prototype.initSearch;i.prototype.init=function(){var i;this.options.filter&&(s.isEmptyObject((i=this).options.filterValues)||(i.filterColumnsPartial=i.options.filterValues,i.options.filterValues={}),this.$el.on("reset-view.bs.table",function(){!i.options.height||0<i.$tableHeader.find("select").length||0<i.$tableHeader.find("input").length||t(i,i.$tableHeader)}).on("post-header.bs.table",function(){var a,l;l=e(a=i),s.each(a.columns,function(t,e){var i;e.filter&&"select"===e.filter.type&&0<(i=l.find("select[data-filter-field="+e.field+"]")).length&&!i.data().select2&&(e.filter.data.unshift(""),e={placeholder:"",allowClear:!0,data:e.filter.data,dropdownParent:a.$el.closest(".bootstrap-table")},i.select2(e),i.on("select2:unselecting",function(t){t.preventDefault(),i.val(null).trigger("change"),a.searchText=void 0,a.onColumnSearch(t)}))}),clearTimeout(0),setTimeout(function(){r(i)},i.options.searchTimeOut-1e3)}).on("column-switch.bs.table",function(t,e){r(i)})),a.apply(this,Array.prototype.slice.apply(arguments))},i.prototype.initHeader=function(){l.apply(this,Array.prototype.slice.apply(arguments)),this.options.filter&&t(this,this.$header)},i.prototype.initSearch=function(){f.apply(this,Array.prototype.slice.apply(arguments));var n=this,o=n.filterColumnsPartial;"client"===n.options.sidePagination&&(this.data=s.grep(this.data,function(t,e){for(var i in o){var a=n.columns[s.fn.bootstrapTable.utils.getFieldIndex(n.columns,i)],l=o[i].toLowerCase(),r=t[i],r=s.fn.bootstrapTable.utils.calculateObjectValue(n.header,n.header.formatters[s.inArray(i,n.header.fields)],[r,t,e],r);if(a.filterStrictSearch){if(-1===s.inArray(i,n.header.fields)||"string"!=typeof r&&"number"!=typeof r||r.toString().toLowerCase()!==l.toString().toLowerCase())return!1}else if(-1===s.inArray(i,n.header.fields)||"string"!=typeof r&&"number"!=typeof r||-1===(r+"").toLowerCase().indexOf(l))return!1}return!0}))},i.prototype.onColumnSearch=function(t){var e=s(t.currentTarget).attr("data-filter-field"),i=s.trim(s(t.currentTarget).val());s.isEmptyObject(this.filterColumnsPartial)&&(this.filterColumnsPartial={}),i?this.filterColumnsPartial[e]=i:delete this.filterColumnsPartial[e],this.options.pageNumber=1,this.onSearch(t)},i.prototype.setFilterData=function(i,a){var t=e(this).find('select[data-filter-field="'+i+'"]');a.unshift(""),t.empty(),t.select2({data:a,placeholder:"",allowClear:!0,dropdownParent:this.$el.closest(".bootstrap-table")}),s.each(this.columns,function(t,e){if(e.field===i)return e.filter.data=a,!1})},i.prototype.setFilterValues=function(t){this.filterColumnsPartial=t},s.fn.bootstrapTable.methods.push("setFilterData"),s.fn.bootstrapTable.methods.push("setFilterValues")}(jQuery);