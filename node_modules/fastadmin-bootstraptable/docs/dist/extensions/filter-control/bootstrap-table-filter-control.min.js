/*
* bootstrap-table - v1.11.12 - 2024-03-28
https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2017 zhixin wen
* Licensed MIT License
*/
!function(v){"use strict";function g(t,e,o){e=v.trim(e),function(t,e){for(var o=T(t),i=0;i<o.length;i++)if(o[i].value===e.toString())return true;return false}(t=v(t.get(t.length-1)),e)||t.append(v("<option></option>").attr("value",e).text(v("<div />").html(o).text()))}function m(t){var e=t.find("option:gt(0)");e.sort(function(t,e){return t=v(t).text().toLowerCase(),e=v(e).text().toLowerCase(),v.isNumeric(t)&&v.isNumeric(e)&&(t=parseFloat(t),e=parseFloat(e)),e<t?1:t<e?-1:0}),t.find("option:gt(0)").remove(),t.append(e)}function l(t){var e=t.$header;return e=t.options.height?t.$tableHeader:e}function s(t){var e="select, input";return e=t.options.height?"table select, table input":e}function i(r){var t=l(r),e=s(r);r.options.valuesFilterControl=[],t.find(e).each(function(){var t,e,o,i;r.options.valuesFilterControl.push({field:v(this).closest("[data-field]").data("field"),value:v(this).val(),position:(t=v(this).get(0),v.fn.bootstrapTable.utils.isIEBrowser()&&v(t).is("input")?(e=0,"selectionStart"in t?e=t.selectionStart:"selection"in document&&(t.focus(),o=document.selection.createRange(),i=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),e=o.text.length-i),e):-1)})})}function a(r){var n,a,t=l(r),e=s(r);0<r.options.valuesFilterControl.length&&t.find(e).each(function(t,e){var o,i;n=v(this).closest("[data-field]").data("field"),0<(a=v.grep(r.options.valuesFilterControl,function(t){return t.field===n})).length&&(v(this).val(a[0].value),o=v(this).get(0),i=a[0].position,v.fn.bootstrapTable.utils.isIEBrowser())&&(void 0!==o.setSelectionRange?o.setSelectionRange(i,i):v(o).val(o.value))})}function t(h){var d=h.data,b=(h.pageTo<h.options.data.length?h.options.data.length:h.pageTo,!h.options.pagination||"server"===h.options.sidePagination?h.pageTo:h.options.totalRows);v.each(h.header.fields,function(t,e){var o,i=h.columns[v.fn.bootstrapTable.utils.getFieldIndex(h.columns,e)],r=v(".bootstrap-table-filter-control-"+y(i.field));if((o=i).filterControl&&"select"===o.filterControl.toLowerCase()&&o.searchable&&(void 0===(o=i).filterData||"column"===o.filterData.toLowerCase())&&((i=r)&&0<i.length)){0===r.get(r.length-1).options.length&&g(r,"","");for(var n,a={},l=0;l<b;l++){var s=d[l][e];a[v.fn.bootstrapTable.utils.calculateObjectValue(h.header,h.header.formatters[t],[s,d[l],l],s)]=s}for(n in a)g(r,a[n],n);if(m(r),h.options.hideUnusedSelectOptions)for(var c=r,f=a,u=T(c),p=0;p<u.length;p++)""!==u[p].value&&(f.hasOwnProperty(u[p].value)?c.find(C("option[value='%s']",u[p].value)).show():c.find(C("option[value='%s']",u[p].value)).hide())}})}function y(t){return String(t).replace(/(:|\.|\[|\]|,)/g,"\\$1")}function e(l,s){var c,f=!1,o=0;v.each(l.columns,function(t,o){if((c=[],o.visible)&&(o.filterControl?(c.push('<div class="filter-control">'),a=o.filterControl.toLowerCase(),o.searchable&&l.options.filterTemplate[a]&&(f=!0,c.push(l.options.filterTemplate[a](l,o.field,"visible",o.filterControlPlaceholder)))):c.push('<div class="no-filter-control"></div>'),v.each(s.children().children(),function(t,e){if((e=v(e)).data("field")===o.field)return e.find(".fht-cell").append(c.join("")),!1}),void 0!==o.filterData&&"column"!==o.filterData.toLowerCase())){var e,i,r,n,a=function(t,e){for(var o=Object.keys(t),i=0;i<o.length;i++)if(o[i]===e)return t[e];return null}(u,o.filterData.substring(0,o.filterData.indexOf(":")));if(null===a)throw new SyntaxError('Error. You should use any of these allowed filter data methods: var, json, url. Use like this: var: {key: "value"}');switch(e=o.filterData.substring(o.filterData.indexOf(":")+1,o.filterData.length),i=v(".bootstrap-table-filter-control-"+y(o.field)),g(i,"",""),a(e,i),a){case"url":v.ajax({url:e,dataType:"json",success:function(t){for(var e in t)g(i,e,t[e]);m(i)}});break;case"var":for(n in r=window[e])g(i,n,r[n]);m(i);break;case"jso":for(n in r=JSON.parse(e))g(i,n,r[n]);m(i)}}}),f?(s.off("keyup","input").on("keyup","input",function(t){clearTimeout(o),o=setTimeout(function(){l.onColumnSearch(t)},l.options.searchTimeOut)}),s.off("change","select").on("change","select",function(t){clearTimeout(o),o=setTimeout(function(){l.onColumnSearch(t)},l.options.searchTimeOut)}),s.off("mouseup","input").on("mouseup","input",function(t){var e=v(this);""!==e.val()&&setTimeout(function(){""===e.val()&&(clearTimeout(o),o=setTimeout(function(){l.onColumnSearch(t)},l.options.searchTimeOut))},1)}),0<s.find(".date-filter-control").length&&v.each(l.columns,function(t,e){void 0!==e.filterControl&&"datepicker"===e.filterControl.toLowerCase()&&s.find(".date-filter-control.bootstrap-table-filter-control-"+e.field).datepicker(e.filterDatepickerOptions).on("changeDate",function(t){v(C(".%s",t.currentTarget.classList.toString().split(" ").join("."))).val(t.currentTarget.value),v(t.currentTarget).keyup()})})):s.find(".filterControl").hide()}var C=v.fn.bootstrapTable.utils.sprintf,o=v.fn.bootstrapTable.utils.objectKeys,T=function(t){return t.get(t.length-1).options},u={var:function(t,e){var o,i=window[t];for(o in i)g(e,o,i[o]);m(e)},url:function(t,o){v.ajax({url:t,dataType:"json",success:function(t){for(var e in t)g(o,e,t[e]);m(o)}})},json:function(t,e){var o,i=JSON.parse(t);for(o in i)g(e,o,i[o]);m(e)}},r=(v.extend(v.fn.bootstrapTable.defaults,{filterControl:!1,onColumnSearch:function(t,e){return!1},filterShowClear:!1,alignmentSelectControlOptions:void 0,filterTemplate:{input:function(t,e,o,i){return C('<input type="text" class="form-control bootstrap-table-filter-control-%s" style="width: 100%; visibility: %s" placeholder="%s">',e,o,i)},select:function(t,e,o){return C('<select class="form-control bootstrap-table-filter-control-%s" style="width: 100%; visibility: %s" dir="%s"></select>',e,o,function(t){switch(t=void 0===t?"left":t.toLowerCase()){case"left":return"ltr";case"right":return"rtl";case"auto":return"auto";default:return"ltr"}}(t.options.alignmentSelectControlOptions))},datepicker:function(t,e,o){return C('<input type="text" class="form-control date-filter-control bootstrap-table-filter-control-%s" style="width: 100%; visibility: %s">',e,o)}},valuesFilterControl:[]}),v.extend(v.fn.bootstrapTable.COLUMN_DEFAULTS,{filterControl:void 0,filterData:void 0,filterDatepickerOptions:void 0,filterStrictSearch:!1,filterStartsWithSearch:!1,filterControlPlaceholder:""}),v.extend(v.fn.bootstrapTable.Constructor.EVENTS,{"column-search.bs.table":"onColumnSearch"}),v.extend(v.fn.bootstrapTable.defaults.icons,{clear:"glyphicon-trash icon-clear"}),v.extend(v.fn.bootstrapTable.locales,{formatClearFilters:function(){return"Clear Filters"}}),v.extend(v.fn.bootstrapTable.defaults,v.fn.bootstrapTable.locales),v.fn.bootstrapTable.Constructor),n=r.prototype.init,c=r.prototype.initToolbar,f=r.prototype.initHeader,p=r.prototype.initBody,h=r.prototype.initSearch;r.prototype.init=function(){var t;this.options.filterControl&&(t=this,Object.keys||o(),this.options.valuesFilterControl=[],this.$el.on("reset-view.bs.table",function(){!t.options.height||0<t.$tableHeader.find("select").length||0<t.$tableHeader.find("input").length||e(t,t.$tableHeader)}).on("post-header.bs.table",function(){a(t)}).on("post-body.bs.table",function(){t.options.height&&t.$tableHeader.css("height","77px")}).on("column-switch.bs.table",function(){a(t)})),n.apply(this,Array.prototype.slice.apply(arguments))},r.prototype.initToolbar=function(){var t;this.showToolbar=this.options.filterControl&&this.options.filterShowClear,c.apply(this,Array.prototype.slice.apply(arguments)),this.options.filterControl&&this.options.filterShowClear&&((t=this.$toolbar.find(">.btn-group")).find(".filter-show-clear").length||v(['<button class="btn btn-default filter-show-clear" ',C('type="button" title="%s">',this.options.formatClearFilters()),C('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.clear),"</button>"].join("")).appendTo(t).off("click").on("click",v.proxy(this.clearFilterControl,this)))},r.prototype.initHeader=function(){f.apply(this,Array.prototype.slice.apply(arguments)),this.options.filterControl&&e(this,this.$header)},r.prototype.initBody=function(){p.apply(this,Array.prototype.slice.apply(arguments)),t(this)},r.prototype.initSearch=function(){var a,l;h.apply(this,Array.prototype.slice.apply(arguments)),"server"!==this.options.sidePagination&&(l=v.isEmptyObject((a=this).filterColumnsPartial)?null:this.filterColumnsPartial,this.data=l?v.grep(this.data,function(t,e){for(var o in l){var i=a.columns[v.fn.bootstrapTable.utils.getFieldIndex(a.columns,o)],r=l[o].toLowerCase(),n=t[o];if(i&&i.searchFormatter&&(n=v.fn.bootstrapTable.utils.calculateObjectValue(a.header,a.header.formatters[v.inArray(o,a.header.fields)],[n,t,e],n)),i.filterStrictSearch){if(-1===v.inArray(o,a.header.fields)||"string"!=typeof n&&"number"!=typeof n||n.toString().toLowerCase()!==r.toString().toLowerCase())return!1}else if(i.filterStartsWithSearch){if(-1===v.inArray(o,a.header.fields)||"string"!=typeof n&&"number"!=typeof n||0!==(n+"").toLowerCase().indexOf(r))return!1}else if(-1===v.inArray(o,a.header.fields)||"string"!=typeof n&&"number"!=typeof n||-1===(n+"").toLowerCase().indexOf(r))return!1}return!0}):this.data)},r.prototype.initColumnSearch=function(t){if(i(this),t)for(var e in this.filterColumnsPartial=t,this.updatePagination(),t)this.trigger("column-search",e,t[e])},r.prototype.onColumnSearch=function(t){var e,o;-1<v.inArray(t.keyCode,[37,38,39,40])||(i(this),e=v.trim(v(t.currentTarget).val()),o=v(t.currentTarget).closest("[data-field]").data("field"),v.isEmptyObject(this.filterColumnsPartial)&&(this.filterColumnsPartial={}),e?this.filterColumnsPartial[o]=e:delete this.filterColumnsPartial[o],this.searchText+="randomText",this.options.pageNumber=1,this.onSearch(t),this.trigger("column-search",o,e))},r.prototype.clearFilterControl=function(){var o,t,e,i,r,n;this.options.filterControl&&this.options.filterShowClear&&(o=this,t=function(){var o=[],t=document.cookie.match(/(?:bs.table.)(\w*)/g);if(t)return v.each(t,function(t,e){/./.test(e)&&(e=e.split(".").pop()),-1===v.inArray(e,o)&&o.push(e)}),o}(),i=(e=l(o)).closest("table"),r=e.find(s(o)),n=o.$toolbar.find(".search input"),v.each(o.options.valuesFilterControl,function(t,e){e.value=""}),a(o),0<r.length)&&(this.filterColumnsPartial={},v(r[0]).trigger("INPUT"===r[0].tagName?"keyup":"change"),0<n.length&&o.resetSearch(),o.options.sortName===i.data("sortName")&&o.options.sortOrder===i.data("sortOrder")||0<(n=e.find(C('[data-field="%s"]',v(r[0]).closest("table").data("sortName")))).length&&(o.onSort(i.data("sortName"),i.data("sortName")),v(n).find(".sortable").trigger("click")),clearTimeout(0),setTimeout(function(){t&&0<t.length&&v.each(t,function(t,e){void 0!==o.deleteCookie&&o.deleteCookie(e)})},o.options.searchTimeOut))}}(jQuery);