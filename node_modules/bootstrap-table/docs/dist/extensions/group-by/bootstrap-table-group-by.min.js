/*
* bootstrap-table - v1.11.12 - 2024-03-28
https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2017 zhixin wen
* Licensed MIT License
*/
!function(a){"use strict";function o(t,o){return e.apply([t,o]),p["data-tt-id".toString()]=o,t.IsParent?(r=o,delete p[n.toString()]):p[n.toString()]=void 0===r?o:r,p}function i(p,t){for(var o,e,n,i=[],r=(e=function(t){for(var o=p,i=t,e=[],n=0;n<o.options.groupByField.length;n++)e.push(i[o.options.groupByField[n]]);return e},n={},a.each(t,function(t,o){var i=JSON.stringify(e(o));n[i]=n[i]||[],n[i].push(o)}),Object.keys(n).map(function(t){return n[t]})),s=0;s<r.length;s++)r[s].unshift(function(t,o,i){for(var e={},n=0;n<t.options.groupByField.length;n++)e[t.options.groupByField[n].toString()]=o[i][0][t.options.groupByField[n]];return e.IsParent=!0,e}(p,r,s)),p.options.groupBySumGroup&&(o=function(e,t){var n={};return a.each(t,function(t,o){if(!o.IsParent)for(var i in o)isNaN(parseFloat(o[i]))||e.columns[a.fn.bootstrapTable.utils.getFieldIndex(e.columns,i)].groupBySumGroup&&(void 0===n[i]&&(n[i]=0),n[i]+=+o[i])}),n}(p,r[s]),a.isEmptyObject(o)||r[s].push(o));return i=i.concat.apply(i,r),!p.options.loaded&&0<i.length&&(p.options.loaded=!0,p.options.originalData=p.options.data,p.options.data=i),i}var e,n="data-tt-parent-id",p={},r=void 0,t=(a.extend(a.fn.bootstrapTable.defaults,{groupBy:!1,groupByField:[],groupBySumGroup:!1,groupByInitExpanded:void 0,loaded:!1,originalData:void 0}),a.fn.bootstrapTable.methods.push("collapseAll","expandAll","refreshGroupByField"),a.extend(a.fn.bootstrapTable.COLUMN_DEFAULTS,{groupBySumGroup:!1}),a.fn.bootstrapTable.Constructor),s=t.prototype.init,l=t.prototype.initData;t.prototype.init=function(){var t;this.options.sortName||this.options.groupBy&&0<this.options.groupByField.length&&(t=this,Object.keys||a.fn.bootstrapTable.utils.objectKeys(),this.options.loaded=!1,this.options.originalData=void 0,e=this.options.rowAttributes,this.options.rowAttributes=o,this.$el.on("post-body.bs.table",function(){t.$el.treetable({expandable:!0,onNodeExpand:function(){t.options.height&&t.resetHeader()},onNodeCollapse:function(){t.options.height&&t.resetHeader()}},!0),void 0!==t.options.groupByInitExpanded&&("number"==typeof t.options.groupByInitExpanded?t.expandNode(t.options.groupByInitExpanded):"all"===t.options.groupByInitExpanded.toLowerCase()&&t.expandAll())})),s.apply(this,Array.prototype.slice.apply(arguments))},t.prototype.initData=function(t,o){this.options.sortName||this.options.groupBy&&0<this.options.groupByField.length&&(this.options.groupByField="string"==typeof this.options.groupByField?this.options.groupByField.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.groupByField,t=i(this,t||this.options.data)),l.apply(this,[t,o])},t.prototype.expandAll=function(){this.$el.treetable("expandAll")},t.prototype.collapseAll=function(){this.$el.treetable("collapseAll")},t.prototype.expandNode=function(t){void 0!==(t=function(t,o){for(var i=t.$body.find("tr").not("[data-tt-parent-id]"),e=0;e<i.length;e++)if(e===o)return a(i[e]).attr("data-tt-id")}(this,t))&&this.$el.treetable("expandNode",t)},t.prototype.refreshGroupByField=function(t){a.fn.bootstrapTable.utils.compareObjects(this.options.groupByField,t)||(this.options.groupByField=t,this.load(this.options.originalData))}}(jQuery);