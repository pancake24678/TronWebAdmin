/*
* bootstrap-table - v1.11.12 - 2024-03-28
https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2017 zhixin wen
* Licensed MIT License
*/
!function(l){"use strict";function a(t,o,a,e){var i,n;l("#avdSearchModal_"+e.options.idTable).hasClass("modal")||(i=(i=(i=s('<div id="avdSearchModal%s"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">',"_"+e.options.idTable)+'<div class="modal-dialog modal-xs"> <div class="modal-content">  <div class="modal-header">   <button type="button" class="close" data-dismiss="modal" aria-hidden="true" >&times;</button>')+s('   <h4 class="modal-title">%s</h4>',o)+'  </div>  <div class="modal-body modal-body-custom">')+s('   <div class="container-fluid" id="avdSearchModalContent%s" style="padding-right: 0px;padding-left: 0px;" >',"_"+e.options.idTable)+"   </div>  </div>  </div> </div></div>",l("body").append(l(i)),o=function(t,o,a){var e=[],i;for(i in e.push(s('<form class="form-horizontal" id="%s" action="%s" >',a.options.idForm,a.options.actionForm)),t){var n=t[i];if(!n.checkbox&&n.visible&&n.searchable){e.push('<div class="form-group">');e.push(s('<label class="col-sm-4 control-label">%s</label>',n.title));e.push('<div class="col-sm-6">');e.push(s('<input type="text" class="form-control input-md" name="%s" placeholder="%s" id="%s">',n.field,n.title,n.field));e.push("</div>");e.push("</div>")}}return e.push('<div class="form-group">'),e.push('<div class="col-sm-offset-9 col-sm-3">'),e.push(s('<button type="button" id="btnCloseAvd%s" class="btn btn-default" >%s</button>',"_"+a.options.idTable,o)),e.push("</div>"),e.push("</div>"),e.push("</form>"),e}(t,a,e),n=0,l("#avdSearchModalContent_"+e.options.idTable).append(o.join("")),l("#"+e.options.idForm).off("keyup blur","input").on("keyup blur","input",function(t){clearTimeout(n),n=setTimeout(function(){e.onColumnAdvancedSearch(t)},e.options.searchTimeOut)}),l("#btnCloseAvd_"+e.options.idTable).click(function(){l("#avdSearchModal_"+e.options.idTable).modal("hide")})),l("#avdSearchModal_"+e.options.idTable).modal()}var e=!1,s=l.fn.bootstrapTable.utils.sprintf,t=(l.extend(l.fn.bootstrapTable.defaults,{advancedSearch:!1,idForm:"advancedSearch",actionForm:"",idTable:void 0,onColumnAdvancedSearch:function(t,o){return!1}}),l.extend(l.fn.bootstrapTable.defaults.icons,{advancedSearchIcon:"glyphicon-chevron-down"}),l.extend(l.fn.bootstrapTable.Constructor.EVENTS,{"column-advanced-search.bs.table":"onColumnAdvancedSearch"}),l.extend(l.fn.bootstrapTable.locales,{formatAdvancedSearch:function(){return"Advanced search"},formatAdvancedCloseButton:function(){return"Close"}}),l.extend(l.fn.bootstrapTable.defaults,l.fn.bootstrapTable.locales),l.fn.bootstrapTable.Constructor),i=t.prototype.initToolbar,n=t.prototype.load,o=t.prototype.initSearch;t.prototype.initToolbar=function(){var t,o;i.apply(this,Array.prototype.slice.apply(arguments)),this.options.search&&this.options.advancedSearch&&this.options.idTable&&((o=[]).push(s('<div class="columns columns-%s btn-group pull-%s" role="group">',(t=this).options.buttonsAlign,this.options.buttonsAlign)),o.push(s('<button class="btn btn-default%s" type="button" name="advancedSearch" aria-label="advanced search" title="%s">',void 0===t.options.iconSize?"":" btn-"+t.options.iconSize,t.options.formatAdvancedSearch())),o.push(s('<i class="%s %s"></i>',t.options.iconsPrefix,t.options.icons.advancedSearchIcon)),o.push("</button></div>"),t.$toolbar.prepend(o.join("")),t.$toolbar.find('button[name="advancedSearch"]').off("click").on("click",function(){a(t.columns,t.options.formatAdvancedSearch(),t.options.formatAdvancedCloseButton(),t)}))},t.prototype.load=function(t){var o;n.apply(this,Array.prototype.slice.apply(arguments)),this.options.advancedSearch&&void 0!==this.options.idTable&&!e&&(o=parseInt(l(".bootstrap-table").height()),o+=10,l("#"+this.options.idTable).bootstrapTable("resetView",{height:o}),e=!0)},t.prototype.initSearch=function(){var n,s;o.apply(this,Array.prototype.slice.apply(arguments)),this.options.advancedSearch&&(s=l.isEmptyObject((n=this).filterColumnsPartial)?null:this.filterColumnsPartial,this.data=s?l.grep(this.data,function(t,o){for(var a in s){var e=s[a].toLowerCase(),i=t[a],i=l.fn.bootstrapTable.utils.calculateObjectValue(n.header,n.header.formatters[l.inArray(a,n.header.fields)],[i,t,o],i);if(-1===l.inArray(a,n.header.fields)||"string"!=typeof i&&"number"!=typeof i||-1===(i+"").toLowerCase().indexOf(e))return!1}return!0}):this.data)},t.prototype.onColumnAdvancedSearch=function(t){var o=l.trim(l(t.currentTarget).val()),a=l(t.currentTarget)[0].id;l.isEmptyObject(this.filterColumnsPartial)&&(this.filterColumnsPartial={}),o?this.filterColumnsPartial[a]=o:delete this.filterColumnsPartial[a],this.options.pageNumber=1,this.onSearch(t),this.updatePagination(),this.trigger("column-advanced-search",a,o)}}(jQuery);